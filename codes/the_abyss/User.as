package{	import flash.display.MovieClip;	import Date;		public class User extends MovieClip{		private var speedx:Number;		private var speedy:Number;		private var speedz:Number;		private var lastx:int;		private var lasty:int;		private var lastz:int;		private var init_time:Number;		private var cur_time:Number;		public var last_time:Number;		public var dot:MovieClip;		public var updated:Boolean;		public var isBad:Boolean;		/*		public function User(){			User(-10, -10, -10, Date.getTime());		}		*/		public function User(x_in:int, y_in:int, z_in:int, width_in, height_in, time_in:Number){			super();			x = x_in/640*1280;			y = y_in/480*800;			z = z_in;			init_time = time_in;			last_time = 0;			dot = new user_marker();			dot.x = x_in;			dot.width = width_in;			dot.height = height_in;			dot.y = y_in;			dot.dot_info.text = '('+x+', '+y+', '+z+')';			updated = false;		}				public function getSpeed():Array{			return new Array(speedx,speedy,speedz);		}				public function updateTo(upTo:User):void{			calcSpeed();			lastx = x;			lasty = y;			lastz = z;			last_time = cur_time;			x = upTo.x;			y = upTo.y;			z = upTo.z;			dot = upTo.dot;			cur_time = upTo.init_time;			calcSpeed();			updated = true;		}				public function calcSpeed():void{			var dx = x - lastx;			var dy = y - lasty;			var dz = z - lastz;			var dt = cur_time - last_time;			speedx = dx/640 * 1200;			speedy = dy/480 * 800;			speedz = dz;		}				public function checkUnique(others:Array):int{			var ret:int = -1;			for(var i = 0; i < others.length; i++){				if( x <= others[i].x + 40 && x >= others[i].x - 40){					if( y <= others[i].y + 40 && y >= others[i].y - 40){						return i;					}				}			}			return -1;		}	}}